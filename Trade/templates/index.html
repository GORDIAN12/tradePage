{%extends "base.html" %}
{% load static %}
{% block extra_css %}
  <link rel="stylesheet" href="{% static 'index_css/index.css' %}">
{% endblock %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

{% block content %}
<div class="index-page">
  <div class="content-layout">
    <!-- Texto a la izquierda -->
    <div class="hero-text">
      <h1 class="simple-text">Revoluciona tu<br></h1>
        <h1 class="gradient-text">portafolio</h1>
        <h1 class="gradient-text2">Crypto</h1>
      <p>Accede a las herramientas más avanzadas de trading,<br>
          análisis en tiempo real y estrategias profesionales para<br>
          maximizar tus inversiones en criptomonedas.</p>
      <button class="gradient-button">Comenzar Trading</button>
      <button class="gradient-button2">Ver Demo</button>
      <p>Seguridad Bancaria</p>
      <p>Ejecución Instantánea</p>
    </div>

    <!-- Panel a la derecha -->
    <div class="trading-panel">
      <div class="panel-header">
        <h3>Panel de Trading</h3>
        <span class="live-indicator">● En vivo</span>
     </div>

      <div class="price-cards">
      <div class="card-crypto">
            <div class="card-title">BTC/USD</div>
            <div class="price" id="btc-price">$--</div>
            <p><span id="btc-change"></span></p>
        </div>

        <div class="card-crypto-eth">
        <div class="card-title">ETH/USD</div>
        <div class="price" id="eth-price">$--</div>
        <p><span id="eth-change"></span></p>
        </div>
    </div>
  </div>
</div>
<div class="text-Market">
<h1>Mercado en Tiempo Real</h1><br>
<p>Mantente al día con los precios y tendencias de las principales<br> criptomonedas del mercado</p>
</div>
</div>
    <script>
async function fetchPrices() {
  try {
    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd&include_24hr_change=true');
    const data = await response.json();
    const btcChange = data.bitcoin.usd_24h_change;
      const ethChange = data.ethereum.usd_24h_change;


    // Actualizar precios
    document.getElementById('btc-price').innerText = `$${data.bitcoin.usd.toLocaleString()}`;
    const btcChangeElem = document.getElementById('btc-change');
    document.getElementById('btc-change').innerText = `${data.bitcoin.usd_24h_change.toFixed(2)}%`;
      btcChangeElem.style.color = btcChange >= 0 ? '#00ff73' : '#ff4d4d';


    document.getElementById('eth-price').innerText = `$${data.ethereum.usd.toLocaleString()}`;
      const ethChangeElem = document.getElementById('eth-change');
    document.getElementById('eth-change').innerText = `${data.ethereum.usd_24h_change.toFixed(2)}%`;
      ethChangeElem.style.color = ethChange >= 0 ? '#00ff73' : '#ff4d4d';

  } catch (error) {
    console.error('Error al obtener los precios:', error);
  }
}

fetchPrices();
setInterval(fetchPrices, 20000); // 20 segundos
/* POLKADOT
      document.getElementById('dot-price').innerText = `$${data.polkadot.usd.toLocaleString()}`;
      const dotChangeElem = document.getElementById('dot-change');
    document.getElementById('dot-change').innerText = `${data.polkadot.usd_24h_change.toFixed(2)}%`;
      dotChangeElem.style.color = dotChange >= 0 ? '#00ff73' : '#ff4d4d';
*/
</script>


{% endblock %}